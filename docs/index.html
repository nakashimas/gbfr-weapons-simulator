<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GBFR Weapons Simulator</title>
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main class="container-fluid" id="app">
    <div class="row">
      <!-- ============ -->
      <!-- Weapons View -->
      <!-- ============ -->
      <div class="col col-12 col-lg-6 mb-3">
        <div class="row">
          <div class="card px-4">
            <div class="row">
              <!-- ============ -->
              <!-- Weapons Name -->
              <!-- ============ -->
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">{{messageText[lang]["title"]["weapons"]}}</span>
              </div>
              <div class="col col-3 p-0">
                <select id="weapon-name" v-model="weaponName" class="select-2 form-select">
                  <option v-for="(weapon_selection, weapon_selection_idx) in messageText[lang]['weapons']" :value="weapon_selection_idx">
                    {{weapon_selection}}
                  </option>
                </select>
              </div>
              <!-- ============= -->
              <!-- Weapons Level -->
              <!-- ============= -->
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">Level</span>
              </div>
              <div class="col col-3 p-0">
                <input class="form-control px-1 h-100" id="weapon-level" type="number" v-model="weaponLevel">
              </div>
            </div>
            <!-- ============== -->
            <!-- Weapons Traits -->
            <!-- ============== -->
            <div class="row">
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]["title"]["weaponTraits"]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <div class="row g-0">
                  <div class="col col-11 p-0">
                    <span class="input-group-text px-1 h-100">
                      <small>Level</small>
                    </span>
                  </div>
                  <div class="col col-1 p-0">
                    <span class="input-group-text px-0 h-100">
                      <small>A</small>
                    </span>
                  </div>
                </div>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]["title"]["weaponTraits"]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <div class="row g-0">
                  <div class="col col-11 p-0">
                    <span class="input-group-text px-1 h-100">
                      <small>Level</small>
                    </span>
                  </div>
                  <div class="col col-1 p-0">
                    <span class="input-group-text px-0 h-100">
                      <small>A</small>
                    </span>
                  </div>
                </div>
              </div>
              <template v-for="(weaponTrait, index) in weaponTraits">
                <!-- Skill Name -->
                <div class="col col-3 p-0">
                  <select :id="'weapon-trait-name-' + index" v-model="weaponTraits[index].weaponTraitSkillName" class="form-select" :disabled="weaponTraits[index].weaponTraitSkillAuto">
                    <option v-for="(weapon_trait_selection, weapon_trait_selection_idx) in messageText[lang]['sigils']" :value="weapon_trait_selection_idx">
                      {{weapon_trait_selection}}
                    </option>
                  </select>
                </div>
                <!-- Skill Level -->
                <div class="col col-3 p-0">
                  <div class="row g-0">
                    <div class="col col-11 p-0">
                      <input class="form-control px-1" :id="'weapon-trait-level-' + index" type="number" v-model="weaponTraits[index].weaponTraitSkillLevel" :disabled="weaponTraits[index].weaponTraitSkillAuto">
                    </div>
                    <div class="col col-1 p-0">
                      <input class="form-check-input px-1" type="checkbox" :id="'weapon-trait-auto' + index" v-model="weaponTraits[index].weaponTraitSkillAuto">
                    </div>
                  </div>
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
      <!-- =========== -->
      <!-- Imbues View -->
      <!-- =========== -->
      <div class="col col-12 col-lg-6 mb-3">
        <div class="row">
          <div class="card px-4">
            <div class="row">
              <div class="col col-9 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]["title"]["imbueSkills"]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Level</small>
                </span>
              </div>
              <template v-for="(imbue, index) in imbues">
                <!-- Skill Name -->
                <div class="col col-9 p-0">
                  <select :id="'imbue-name-' + index" v-model="imbues[index].imbueSkillName" class="select-2 form-select">
                    <option v-for="(sigil_selection, sigil_selection_idx) in messageText[lang]['sigils']" :value="sigil_selection_idx">
                      {{sigil_selection}}
                    </option>
                  </select>
                </div>
                <!-- Skill Level -->
                <div class="col col-3 p-0">
                  <input class="form-control px-1 h-100" :id="'imbue-level-' + index" type="number" v-model="imbues[index].imbueSkillLevel">
                </div>
              </template>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- =========== -->
      <!-- Sigils View -->
      <!-- =========== -->
      <div class="col col-12 col-lg-6 mb-3 p-0">
        <div class="card px-4">
          <div class="row" id="sigilSkillsHeader">
            <!-- Main Skill Name -->
            <div class="col col-3 p-0">
              <span class="input-group-text px-1 h-100">{{messageText[lang]["title"]["mainSigilSkills"]}}</span>
            </div>
            <!-- Main Skill Stats -->
            <div class="col col-3 p-0">
              <div class="row g-0">
                <!-- Main Skill Rank -->
                <div class="col col-5 p-0">
                  <span class="input-group-text px-1 h-100">Rank</span>
                </div>
                <!-- Main Skill Level Now -->
                <div class="col col-3 p-0">
                  <span class="input-group-text px-1 h-100">Lv</span>
                </div>
                <!-- Main Skill Level Tobe -->
                <div class="col col-3 p-0">
                  <span class="input-group-text px-1 h-100">To</span>
                </div>
                <div class="col col-1 p-0">
                </div>
              </div>
            </div>
            <!-- ============== -->
            <!-- Sub Skill Name -->
            <div class="col col-3 p-0">
              <span class="input-group-text px-1 h-100">{{messageText[lang]["title"]["subSigilSkills"]}}</span>
            </div>
            <!-- Sub Skill Stats -->
            <div class="col col-3 p-0">
              <div class="row g-0">
                <!-- Sub Skill Rank -->
                <div class="col col-5 p-0">
                  <span class="input-group-text px-1 h-100">Rank</span>
                </div>
                <!-- Sub Skill Level Now -->
                <div class="col col-3 p-0">
                  <span class="input-group-text px-1 h-100">Lv</span>
                </div>
                <!-- Sub Skill Level Tobe -->
                <div class="col col-3 p-0">
                  <span class="input-group-text px-1 h-100">To</span>
                </div>
                <div class="col col-1 p-0">
                  <span class="input-group-text px-0 h-100">A</span>
                </div>
              </div>
            </div>
          </div>
          <div v-for="(sigil, index) in sigils" :key="index" class="row">
            <!-- Main Skill Name -->
            <div class="col col-3 p-0">
              <select :id="'sigil-main-name-' + index" v-model="sigils[index].sigilMainSkillName" class="select-2 form-select">
                <option v-for="(sigil_selection, sigil_selection_idx) in messageText[lang]['sigils']" :value="sigil_selection_idx">
                  {{sigil_selection}}
                </option>
              </select>
            </div>
            <!-- Main Skill Stats -->
            <div class="col col-3 p-0">
              <div class="row g-0 h-100">
                <!-- Main Skill Rank -->
                <div class="col col-5 p-0 h-100">
                  <select :id="'sigil-main-rank-' + index" class="form-select px-2 h-100" v-model="sigils[index].sigilMainSkillRank">
                    <option value="4">V</option>
                    <option value="3">IV</option>
                    <option value="2">III</option>
                    <option value="1">II</option>
                    <option value="0">I</option>
                  </select>
                </div>
                <!-- Main Skill Level Now -->
                <div class="col col-3 p-0 h-100">
                  <input class="form-control px-1 h-100" :id="'sigil-main-level-current-' + index" type="number" v-model="sigils[index].sigilMainSkillLevelCurrent">
                </div>
                <!-- Main Skill Level Tobe -->
                <div class="col col-3 p-0 h-100">
                  <input class="form-control px-1 h-100" :id="'sigil-main-level-tobe-' + index" type="number" v-model="sigils[index].sigilMainSkillLevelToBe">
                </div>
                <div class="col col-1 p-0 h-100">
                </div>
              </div>
            </div>
            <!-- ============== -->
            <!-- Sub Skill Name -->
            <div class="col col-3 p-0">
              <select :id="'sigil-sub-name-' + index" v-model="sigils[index].sigilSubSkillName" class="select-2 form-select">
                <option v-for="(sigil_selection, sigil_selection_idx) in messageText[lang]['sigils']" :value="sigil_selection_idx">
                  {{sigil_selection}}
                </option>
              </select>
            </div>
            <!-- Sub Skill Stats -->
            <div class="col col-3 p-0">
              <div class="row g-0 h-100">
                <!-- Sub Skill Rank -->
                <div class="col col-5 p-0 h-100">
                  <select :id="'sigil-sub-rank-' + index" class="form-select px-2 h-100" v-model="sigils[index].sigilSubSkillRank" :disabled="sigils[index].sigilSubSkillAuto">
                    <option value="4">V</option>
                    <option value="3">IV</option>
                    <option value="2">III</option>
                    <option value="1">II</option>
                    <option value="0">I</option>
                  </select>
                </div>
                <!-- Sub Skill Level Now -->
                <div class="col col-3 p-0 h-100">
                  <input class="form-control px-1 h-100" :id="'sigil-sub-level-current-' + index" type="number" v-model="sigils[index].sigilSubSkillLevelCurrent" :disabled="sigils[index].sigilSubSkillAuto">
                </div>
                <!-- Sub Skill Level Tobe -->
                <div class="col col-3 p-0 h-100">
                  <input class="form-control px-1 h-100" :id="'sigil-sub-level-tobe-' + index" type="number" v-model="sigils[index].sigilSubSkillLevelToBe" :disabled="sigils[index].sigilSubSkillAuto">
                </div>
                <div class="col col-1 p-0">
                  <input class="form-check-input px-1" type="checkbox" :id="'sigil-sub-auto' + index" v-model="sigils[index].sigilSubSkillAuto">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ======================= -->
      <!-- Total Skill Levels View -->
      <!-- ======================= -->
      <div class="col col-12 col-lg-3 mb-3">
        <div class="row h-100">
          <div class="card h-100 px-4">
            <div class="row">
              <div class="col col-6 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]["title"]["totalSkills"]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Level</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>ToBe</small>
                </span>
              </div>
            </div>
            <div v-for="(skill, index) in totalSkillLevels" :key="index" class="row">
              <div class="col col-6 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]['sigils'][skill.skillName]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{skill.level[0]}}/{{skillStatus[skill.skillName]['maxLevel']}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{skill.level[1]}}/{{skillStatus[skill.skillName]['maxLevel']}}</small>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ================================= -->
      <!-- Total Skill Effective Values View -->
      <!-- ================================= -->
      <div class="col col-12 col-lg-3 mb-3">
        <div class="row h-100">
          <div class="card h-100 px-4">
            <div class="row">
              <div class="col col-6 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Total Effects</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Now</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>ToBe</small>
                </span>
              </div>
            </div>
            <div v-for="(skillEffect, index) in totalSkillEffects" :key="index" class="row">
              <div class="col col-6 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{messageText[lang]['status'][skillEffect.statusName]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{skillEffect.effects[0]}}</small>
                </span>
              </div>
              <div class="col col-3 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>{{skillEffect.effects[1]}}</small>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <!-- ============================== -->
      <!-- Effective Caractor Status View -->
      <!-- ============================== -->
      <div class="col col-12 mb-3">
        <div class="row h-100">
          <div class="card h-100 px-4">
            <div class="row">
              <!-- == -->
              <!-- HP -->
              <!-- == -->
              <div class="col col-2 col-lg-1 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Base HP</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <input class="form-control px-1" id="healthBase" type="number" v-model="healthBase">
              </div>
              <!-- =========== -->
              <!-- Other Stats -->
              <!-- =========== -->
              <div class="col col-2 col-lg-1 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Base ATK</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <input class="form-control px-1" id="attackPowerBase" type="number" v-model="attackPowerBase">
              </div>
              <div class="col col-2 col-lg-1 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Base CRT</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <input class="form-control px-1" id="criticalHitRateBase" type="number" v-model="criticalHitRateBase">
              </div>
              <div class="col col-2 col-lg-1 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>Base STN</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <input class="form-control px-1" id="stunPowerBase" type="number" v-model="stunPowerBase">
              </div>
            </div>
            <div class="row">
              <!-- == -->
              <!-- HP -->
              <!-- == -->
              <div class="col col-6 col-lg-2 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>HP: {{health * healthRate / 100}}/{{health}} -> {{healthToBe * healthRate / 100}}/{{healthToBe}}</small>
                </span>
              </div>
              <div class="col col-6 col-lg-4 p-0">
                <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                  <div class="progress-bar bg-danger" :style="'width:' + healthRate + '%'">{{healthRate}}%</div>
                </div>
                <input type="range" class="h-25 form-range" min="0" max="100" id="healthRate" v-model="healthRate">
              </div>
              <!-- =========== -->
              <!-- Other Stats -->
              <!-- =========== -->
              <div class="col col-4 col-lg-2 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>ATK: {{attackPower}} -> {{attackPowerToBe}}</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>CRT: {{criticalHitRate}} -> {{criticalHitRateToBe}}</small>
                </span>
              </div>
              <div class="col col-4 col-lg-2 p-0">
                <span class="input-group-text px-1 h-100">
                  <small>STN: {{stunPower}} -> {{stunPowerToBe}}</small>
                </span>
              </div>
              <!-- ========== -->
              <!-- Conditions -->
              <!-- ========== -->
              <div class="col col-12 p-0 m-2">
                <div class="row">
                  <div v-for="(playerConditon, index) in playerConditions" :key="index" class="col col-6 col-lg-2">
                    <input type="checkbox" id="" v-model="playerConditions[index]">
                    <label class="form-check-label" for="flexCheckChecked">
                      <small>{{messageText[lang]['conditions'][index]}}</small>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ======================== -->
      <!-- Effective Combo DPT View -->
      <!-- ======================== -->
      <div class="col col-12">
        <div class="row h-100">
          <div class="card h-100">
            Effective Combo DPT
          </div>
        </div>
      </div>
      <!-- ========================= -->
      <!-- Materials To Upgrade View -->
      <!-- ========================= -->
      <div class="col col-12">
        <div class="row h-100">
          <div class="card h-100">
            Materials To Upgrade
          </div>
        </div>
      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script src="message.js"></script>
  <script src="weapons.js"></script>
  <script src="character.js"></script>
  <script src="skill.js"></script>
  <script src="script.js"></script>
</body>
</html>